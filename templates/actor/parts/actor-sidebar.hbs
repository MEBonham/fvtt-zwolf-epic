<aside class="progressions-sidebar {{#if isMook}}mook-sidebar{{/if}}" data-part-id="sidebar">
  <div class="progressions-container">
    {{#if isMook}}
      <!-- Mook: Only Poor and Good progressions -->
      {{#each progressions as |progression key|}}
        {{#if (or (eq key "poor") (eq key "good"))}}
          <div class="progression-group {{key}} collapsed" data-progression="{{key}}">
            <div class="progression-header" data-action="toggleProgression" data-progression="{{key}}">
              <span class="progression-name">
                <i class="fas fa-dice-d12 progression-die" 
                  data-action="rollProgression"
                  data-progression="{{key}}" 
                  data-bonus="{{progression.bonus}}"
                  title="Roll {{progression.name}} ({{#if (gte progression.bonus 0)}}+{{/if}}{{progression.bonus}})"></i>
                <i class="fas fa-chevron-down"></i>
                {{progression.name}}
              </span>
              <span class="progression-bonus">{{#if (gte progression.bonus 0)}}+{{/if}}{{progression.bonus}}</span>
            </div>
            <div class="progression-content">
              <div class="progression-stats">
                {{#if progression.stats.length}}
                  {{#each progression.stats as |stat|}}
                  <div class="stat-item">
                    <div class="stat-rollable" data-action="rollStat" data-stat="{{stat.key}}" data-type="{{stat.type}}" data-progression="{{../key}}">
                      <span class="stat-icon {{stat.type}}"></span>
                      <span class="stat-name">{{stat.name}}</span>
                    </div>
                    <span class="stat-value">{{#if (gte stat.value 0)}}+{{/if}}{{stat.value}}</span>
                  </div>
                  {{/each}}
                {{else}}
                  <div class="stat-placeholder">No stats assigned yet</div>
                {{/if}}
              </div>
            </div>
          </div>
        {{/if}}
      {{/each}}
    {{else}}
      <!-- Character/Spawn: All progression types -->
      {{#each progressions as |progression key|}}
      <div class="progression-group {{key}} collapsed" data-progression="{{key}}">
        <div class="progression-header" data-action="toggleProgression" data-progression="{{key}}">
          <span class="progression-name">
            <i class="fas fa-dice-d12 progression-die" 
              data-action="rollProgression"
              data-progression="{{key}}" 
              data-bonus="{{progression.bonus}}"
              title="Roll {{progression.name}} ({{#if (gte progression.bonus 0)}}+{{/if}}{{progression.bonus}})"></i>
            <i class="fas fa-chevron-down"></i>
            {{progression.name}}
          </span>
          <span class="progression-bonus">{{#if (gte progression.bonus 0)}}+{{/if}}{{progression.bonus}}</span>
        </div>
        <div class="progression-content">
          <div class="progression-stats">
            {{#if progression.stats.length}}
              {{#each progression.stats as |stat|}}
              <div class="stat-item">
                <div class="stat-rollable" data-action="rollStat" data-stat="{{stat.key}}" data-type="{{stat.type}}" data-progression="{{../key}}">
                  <span class="stat-icon {{stat.type}}"></span>
                  <span class="stat-name">{{stat.name}}</span>
                </div>
                <span class="stat-value">{{#if (gte stat.value 0)}}+{{/if}}{{stat.value}}</span>
              </div>
              {{/each}}
            {{else}}
              <div class="stat-placeholder">No stats assigned yet</div>
            {{/if}}
          </div>
        </div>
      </div>
      {{/each}}
    {{/if}}
  </div>
</aside>