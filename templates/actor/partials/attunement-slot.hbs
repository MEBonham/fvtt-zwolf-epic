{{!-- templates/actor/partials/attunement-slot.hbs --}}
<div class="attunement-slot {{#if isOverextended}}overextended{{/if}}">
  <label class="slot-label">
    {{localize "ZWOLF.AttunementSlot"}} {{slotIndex}} ({{localize "ZWOLF.Tier"}} {{tier}})
    {{#if isOverextended}}
      <span class="overextended-badge">
        <i class="fas fa-exclamation-triangle"></i>
        {{localize "ZWOLF.Overextended"}}
      </span>
    {{/if}}
  </label>
  
  <div class="attunement-drop-zone drop-zone {{#if isOverextended}}overextended-zone{{/if}}" 
       data-item-type="attunement" 
       data-slot="attunement-{{slotIndex}}"
       data-slot-tier="{{tier}}"
       title="{{#if isOverextended}}{{localize 'ZWOLF.OverextendedSlotTooltip'}}{{else}}{{localize 'ZWOLF.DragAttunementHere'}} (Max Tier {{tier}}){{/if}}">
    
    {{#if item}}
      <div class="slotted-attunement slotted-item" data-item-id="{{item._id}}">
        <img class="item-image" src="{{item.img}}" alt="{{item.name}}" />
        <div class="item-info">
          <div class="item-name">{{item.name}}</div>
          <div class="item-details">
            {{localize "ZWOLF.Tier"}} {{item.system.tier}}
            {{#if item.system.appliesTo}}
              {{#if item.appliedEquipment}}
                • {{item.appliedEquipment.name}}
              {{else}}
                • {{item.system.appliesTo}}
              {{/if}}
            {{/if}}
          </div>
        </div>
        <div class="item-controls">
          <a class="item-control" data-action="editItem" title="{{localize 'ZWOLF.Edit'}} {{item.name}}">
            <i class="fas fa-edit"></i>
          </a>
          <a class="item-control" data-action="deleteItem" title="{{localize 'ZWOLF.Remove'}} {{item.name}}">
            <i class="fas fa-times"></i>
          </a>
        </div>
      </div>
    {{else}}
      <div class="drop-prompt">
        <i class="fas fa-gem"></i>
        <span>{{localize "ZWOLF.DragAttunementHere"}}</span>
        <div class="tier-capacity">Max Tier {{tier}}</div>
        {{#if isOverextended}}
          <div class="overextended-warning">
            <i class="fas fa-exclamation-triangle"></i>
            {{localize "ZWOLF.OverextendedSlotWarning"}}
          </div>
        {{/if}}
      </div>
    {{/if}}
  </div>
</div>
