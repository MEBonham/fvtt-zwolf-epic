{{!-- templates/actor/partials/item-slot.hbs --}}
{{!-- 
  Reusable item slot for knacks, tracks, talents
  
  Parameters:
  - slotLabel: Label for the slot
  - slotClass: CSS class for slot container
  - dropZoneClass: CSS class for drop zone
  - itemType: Type of item ("knack", "track", "talent")
  - slotIndex: Slot index
  - item: Item data (if slot is filled)
  - icon: Font Awesome icon class
  - isDisabled: Boolean for disabled state
  - disabledReason: Reason why slot is disabled
  - compact: Boolean for compact styling
  - extraInfo: Optional extra info to display (for talents)
--}}
<div class="{{slotClass}} {{#if compact}}compact-slot{{/if}}">
  <label class="slot-label">
    {{slotLabel}}
    {{#if extraInfo}}
      <span class="slot-extra-info">{{extraInfo}}</span>
    {{/if}}
  </label>
  
  <div class="{{dropZoneClass}} drop-zone {{#if compact}}compact-drop-zone{{/if}} {{#if isDisabled}}disabled{{/if}}" 
       data-item-type="{{itemType}}" 
       data-slot="{{itemType}}-{{slotIndex}}" 
       title="{{#if isDisabled}}{{disabledReason}}{{else}}Drag {{capitalize itemType}} here{{/if}}">
    
    {{#if item}}
      <div class="slotted-item {{#if compact}}compact-slotted-item{{/if}}" data-item-id="{{item._id}}">
        <img class="item-image {{#if compact}}compact-item-image{{/if}}" 
             src="{{item.img}}" 
             alt="{{item.name}}" />
        <div class="item-info {{#if compact}}compact-item-info{{/if}}">
          <div class="item-name">{{item.name}}</div>
          {{#if item.system.talentType}}
            <div class="item-details">
              Type: {{item.system.talentType}}
              {{#if item.system.knacksProvided}}
                â€¢ Knacks: +{{item.system.knacksProvided}}
              {{/if}}
            </div>
          {{/if}}
        </div>
        <div class="item-controls {{#if compact}}compact-item-controls{{/if}}">
          <a class="item-control" data-action="editItem" title="{{localize 'ZWOLF.Edit'}} {{item.name}}">
            <i class="fas fa-edit"></i>
          </a>
          <a class="item-control" data-action="deleteItem" title="{{localize 'ZWOLF.Remove'}} {{item.name}}">
            <i class="fas fa-times"></i>
          </a>
        </div>
      </div>
    {{else}}
      <div class="drop-prompt {{#if compact}}compact-drop-prompt{{/if}}">
        <i class="fas {{icon}}"></i>
        <span>{{localize (concat "ZWOLF.Drag" (capitalize itemType) "Here")}}</span>
        {{#if disabledReason}}
          <div class="drop-requirement">{{disabledReason}}</div>
        {{/if}}
      </div>
    {{/if}}
  </div>
</div>
